<div>
    <div fxLayout="column"  style="width: 100%;">
        <form [formGroup]="pdtform" >
            <div fxLayout="column" style="width:100%;" fxFlex="100">
                <div fxLayout="row" style="width: 80%;" fxLayoutAlign="space-around start" fxFlex="40">
                    <mat-form-field class="invisible" fxFlex="10">
                        <mat-label>ID</mat-label>
                        <input matInput placeholder="ID" formControlName="_id">
                    </mat-form-field>
                    <!-- <mat-form-field class="form-field"> -->
                    <label>PDT Type </label>
                  
                    <mat-radio-group fxLayout="row" formControlName="pdt_type" (change)="pdtradiochange($event)" fxFlex="30">
                        <mat-radio-button *ngFor="let op of pdttypes" [checked]="op.checked===typepdt"
                            [(ngModel)]="typepdt" [value]="op.value">{{ op.name}}</mat-radio-button>
                    </mat-radio-group>
                    <!-- </mat-form-field> -->

                </div>
                <div fxLayout="row" style="width: 80%;" fxLayoutAlign="space-around start" fxFlex="80">
                    <mat-form-field class="form-field" *ngIf="showshift" fxFlex="40">
                        <mat-label>Select Shift </mat-label>
                        <mat-select formControlName="shift">
                            <mat-option *ngFor="let s of Shifts" [value]="s.shiftid">
                                {{s.shiftname}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field class="form-field" fxFlex="40">
                        <mat-label>PDT Name </mat-label>
                        <input matInput placeholder="PDT Name" formControlName="pdt_name">
                    </mat-form-field>
                </div>
                <div fxLayout="row" style="width: 100%;" fxLayoutAlign="space-around start">
                    <mat-form-field class="example-full-width" *ngIf="selected">
                        <input matInput [matDatepicker]="startpicker" formControlName="start_time"
                            placeholder="Start Date">
                        <mat-datepicker-toggle matSuffix [for]="startpicker"></mat-datepicker-toggle>
                        <mat-datepicker #startpicker></mat-datepicker>
                    </mat-form-field>
                    <div class="ngx-timepicker-field-example">
                        <ngx-timepicker-field [format]="24" [defaultTime]="'00:00'" formControlName="pdt_start_time">
                        </ngx-timepicker-field>
                    </div>
                    <mat-form-field class="example-full-width" *ngIf="selected">
                        <input matInput [matDatepicker]="endpicker" formControlName="end_time" placeholder="End Date">
                        <mat-datepicker-toggle matSuffix [for]="endpicker"></mat-datepicker-toggle>
                        <mat-datepicker #endpicker></mat-datepicker>
                    </mat-form-field>
                    <div class="ngx-timepicker-field-example">
                        <ngx-timepicker-field [format]="24" [defaultTime]="'00:00'" formControlName="pdt_end_time">
                        </ngx-timepicker-field>
                    </div>
                    <div>
                    </div>
                </div>
                <div fxLayout="row" fxLayoutAlign="center none">
                    <button mat-raised-button color="primary" [disabled]="pdtform.invalid" (click)="postpdtData()">
                        Submit
                    </button>
                </div>
            </div>
        </form>
        <!-- <pre>{{pdtform.value | json}}</pre> -->
    </div>

    <!-- <div *ngIf="gotData">
<div  fxFlex="33.3" class="flex-p" *ngFor="let pdt of dataSource" >
    <mat-card class="custom-card">
        <mat-card-header class="bg-primary p-1" fxLayoutAlign="space-between center">
            <mat-card-title class="m-0">
                <h6>{{pdt.pdtname}}</h6>
            </mat-card-title>
            <button mat-icon-button>
                <mat-icon>edit</mat-icon>
            </button>
        </mat-card-header>

        <mat-card-content style="width: 100%;">
            <div fxLayout="row" style="width: 100%;" fxLayoutAlign="space-between center" *ngIf="pdt.shiftname">
                <div  fxFlex="30">
                    Type :
                </div>
                <div fxFlex="70">
                    {{pdt.shiftname}}
                </div>
            </div>
            <div fxLayout="row" style="width: 100%;" fxLayoutAlign="space-between center" *ngIf="pdt.shiftname">
                <div  fxFlex="30">
                    Shift :
                </div>
                <div fxFlex="70">
                    {{pdt.shiftname}}
                </div>
            </div>
            <div fxLayout="row" style="width: 100%;" fxLayoutAlign="space-between center">
                <div  fxFlex="30">
                    PDT :
                </div>
                <div fxFlex="70">
                    {{pdt.displaypdtstart}}-{{pdt.displaypdtend}}
                
                </div>
            </div>
            <div fxLayout="row" style="width: 100%;" fxLayoutAlign="space-between center">
                <div  fxFlex="30">
                    PDT :
                </div>
                <div fxFlex="70">
                    {{pdt.displaypdtstart}}-{{pdt.displaypdtend}}
                
                </div>
            </div>
        </mat-card-content>
        <mat-divider></mat-divider>
    </mat-card>
</div>


</div> -->

    <!-- <pre>{{dataSource|json}}</pre> -->

    <div *ngIf="!gotData" fxLayoutAlign="center center" style="width: 100%; height:100%; ">
        <!-- <mat-spinner diameter="30"></mat-spinner> -->
        <p style="color: red;">Select Line <mat-icon>calendar_view_day</mat-icon> from Dropdown List.</p>
    </div>
    <div *ngIf="dataSource===null" fxLayout="row" fxLayoutAlign="center none" style="margin:5%">
        <mat-icon>cancel_presentation</mat-icon>
        <p style="color: blue;">No records found.</p>
    </div>
    <div [hidden]="!gotData" fxLayout="column" fxLayoutAlign="center none" style="margin-left: 4%;">
        <mat-form-field>
            <input autocomplete="off" class="placeholder" matInput (keyup)="applyFilter($event.target.value)"
                placeholder="Filter">
        </mat-form-field>

        <table [hidden]="!gotData" mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8"
            style="width:100%;">
            <ng-container [matColumnDef]="dc"
                *ngFor="let dc of displayedColumns?.slice(0,displayedColumns.length-1); let i=index;">
                <th mat-header-cell [hidden]="displayedColumnsAs[dc]?.visible" *matHeaderCellDef mat-sort-header
                    style="color: white;">
                    {{displayedColumnsAs[dc]?.DN}}</th>
                <td mat-cell [hidden]="displayedColumnsAs[dc]?.visible" *matCellDef="let element">
                    {{element[dc]}}
                </td>
            </ng-container>

            <ng-container matColumnDef="star" stickyEnd>
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: white;">Edit</th>
                <td mat-cell *matCellDef="let element">
                    <button mat-icon-button (click)="updateRow(element)">
                        <mat-icon>create</mat-icon>
                    </button>
                </td>
            </ng-container>
            <!-- <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
            <button mat-icon-button (click)="deleteRow(element)">
                <mat-icon>clear</mat-icon>
            </button>
        </td>
    </ng-container> -->
            <tr mat-header-row style="background-color:#6660be;" *matHeaderRowDef="displayedColumns">
            </tr>
            <tr mat-row *matRowDef="let row;let even = even;  columns: displayedColumns;"></tr>
        </table>
        <div>
            <mat-paginator [pageSizeOptions]="[10, 20, 40]"></mat-paginator>
        </div>
    </div>
</div>